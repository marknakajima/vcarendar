(function(e){function t(t){for(var a,i,s=t[0],o=t[1],l=t[2],u=0,v=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(v.length)v.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},c=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"49bf1fba","chunk-7734f398":"b7601999"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var c,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=i(e);var l=new Error;c=function(t){o.onerror=o.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",l.name="ChunkLoadError",l.type=a,l.request=c,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:o})}),12e4);o.onerror=o.onload=c,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vcarendar/",s.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3b12":function(e,t,n){},"3b51":function(e,t,n){"use strict";var a=n("b46e"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",flat:"",dark:""}},[n("v-spacer"),n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink ml-12 mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),n("span",{staticClass:"font-weight-bold logo"},[e._v("VCARENDAR")])],1),n("v-spacer"),n("v-btn",{staticClass:"hidden-lg-and-up",attrs:{depressed:"",small:"",color:"blue"},on:{click:function(t){return t.stopPropagation(),e.changeDrawer(t)}}},[e._v("Menu ")])],1),n("v-main",[n("Calendar"),n("Snackbar")],1)],1)},c=[],i=n("5530"),s=n("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"fill-height"},[n("v-col",[n("calendar-tool-bar",{attrs:{reference:this.$refs.calendar,focus:e.focus,events:e.events,propType:e.type},on:{todayButtonClick:e.viewToday,typeDay:function(t){return e.changeType("day")},typeWeek:function(t){return e.changeType("week")},typeMonth:function(t){return e.changeType("month")},type4day:function(t){return e.changeType("4day")}}}),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",lg:"10",id:"calendarContent"}},[n("v-overlay",{attrs:{value:e.isBusy,opacity:.6,color:"white"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"blue",size:"128"}})],1),n("div",{staticClass:"printInformationArea"}),n("v-calendar",{ref:"calendar",attrs:{type:e.type,events:e.events,"event-height":100,"events-more":!1,"show-week":!0},on:{"click:event":e.showEvent,"click:date":e.createEvent,"click:day":e.createEvent,change:e.refreshEvents},scopedSlots:e._u([{key:"event",fn:function(e){var t=e.event;return[n("calendar-day",{attrs:{event:t}})]}}]),model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}})],1),n("v-col",{attrs:{cols:"12",lg:"2"}},[n("calendar-side-bar",{attrs:{focus:e.focus},on:{selectedPerson:function(t){return e.refreshEvents()}}})],1)],1)],1)],1)],1),n("calendar-event-dialog",{attrs:{newDay:e.newDay,selectedEvent:e.selectedEvent,selectedWeekdayNum:e.selectedWeekdayNum,originalData:e.originalData},on:{refresh:function(t){return e.refreshEvents()}}})],1)},l=[],u=(n("b0c0"),n("96cf"),n("1da1")),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event__inner",class:e.event.isRecurring?"":"nonRecurringEvent"},[n("v-container",{staticClass:"ma-0 pa-0"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"mb-2",attrs:{cols:"12"}},[n("span",{staticClass:"body-2 mb-6"},[e._v(e._s(e.event.caregiver))])]),n("v-col",{staticClass:"mb-2",attrs:{cols:"12"}},[n("span",{staticClass:"body-2"},[e._v(e._s(e.event.client))])]),n("v-col",{attrs:{cols:"12"}},[n("span",{staticClass:"body-2"},[e._v(e._s(e.displayTime(e.event.start)))]),e._v(" - "),n("span",{staticClass:"body-2"},[e._v(e._s(e.displayTime(e.event.end)))]),n("span",{staticClass:"ml-5 font-weight-normal blue--text text--darken-3"},[n("span",{staticClass:"mr-1"},[e._v("HRS")]),e._v(e._s(e.duration(e.event)))])])],1)],1)],1)},v=[],p=(n("fb6a"),n("8c6f")),f=n("e3ee"),m={name:"CalendarDay",components:{},data:function(){return{}},props:{event:{type:Object,default:function(){return{}}}},methods:{duration:function(e){return Math.abs(Object(p["a"])(Object(f["a"])(e.start),Object(f["a"])(e.end)))/60},displayTime:function(e){return e.slice(11)}}},g=m,h=(n("c8bb"),n("2877")),b=n("6544"),E=n.n(b),S=n("62ad"),y=n("a523"),w=n("0fd9"),T=Object(h["a"])(g,d,v,!1,null,"d0d708d2",null),_=T.exports;E()(T,{VCol:S["a"],VContainer:y["a"],VRow:w["a"]});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-container",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[e.reference?n("v-toolbar-title",[n("span",{staticClass:"title--text text-left"},[e._v(e._s(e.reference.title))]),n("span",{staticClass:"title--text blue--text ml-2"},[e._v(" "+e._s(e.getSelectedPerson.name||"All")+" ")])]):e._e()],1),n("v-col",{class:e.$vuetify.breakpoint.lgAndUp?"text-center":"",attrs:{cols:"12",md:"6",lg:"4","align-self":"center"}},[n("span",[n("span",{staticClass:"body mr-1"},[e._v(" "+e._s(e.totalHours))]),n("span",{staticClass:"body mr-3 button"},[e._v("hrs")]),n("span",{staticClass:"body mr-1"},[e._v(" "+e._s(e.events.length))]),n("span",{staticClass:"body mr-4 button"},[e._v("events")])]),n("v-btn",{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){return e.PDFCalendar(e.getSelectedPerson.name,e.focus)}}},[n("v-icon",[e._v(" mdi-file-pdf-outline ")]),e._v("PDF ")],1)],1),n("v-col",{class:e.$vuetify.breakpoint.lgAndUp?"text-right":"",attrs:{cols:"12",md:"12",lg:"4"}},[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-1"}},"v-btn",e.buttonSize,!1),a),[n("span",[e._v(e._s(e.typeToLabel[e.propType]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.$emit("typeMonth")}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeWeek")}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("type4day")}}},[n("v-list-item-title",[e._v("4 days")])],1),n("v-list-item",{on:{click:function(t){return e.$emit("typeDay")}}},[n("v-list-item-title",[e._v("Day")])],1)],1)],1),n("v-btn",e._b({staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-1"},on:{click:function(t){return e.$emit("todayButtonClick")}}},"v-btn",e.buttonSize,!1),[e._v(" Today ")]),n("v-btn",e._b({staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-1"},on:{click:e.prev}},"v-btn",e.buttonSize,!1),[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),n("v-btn",e._b({attrs:{outlined:"",color:"grey darken-1"},on:{click:e.next}},"v-btn",e.buttonSize,!1),[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1)],1)],1)],1)],1)],1)},C=[],D=(n("99af"),n("13d5"),n("ade3")),O=n("8baf"),x=n("c0e9"),N=n.n(x),R={components:{},data:function(){return{typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"}}},props:{events:{type:Array,default:function(){return[]}},focus:{type:String,default:""},propType:{type:String,default:""},reference:{type:Object,default:function(){return{}}}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])("storeCalendar",["getSelectedPerson"])),{},{totalHours:{get:function(){if(this.events.length)return this.events.reduce((function(e,t){var n=t.duration;return e+parseFloat(n)}),0)}},buttonSize:function(){var e={xs:"x-small",sm:"small",md:"small",lg:"small",xl:"large"}[this.$vuetify.breakpoint.name];return e?Object(D["a"])({},e,!0):{}}}),methods:{prev:function(){this.reference.prev()},next:function(){this.reference.next()},PDFCalendar:function(e,t){var n=document.querySelector("#calendarContent"),a=n.cloneNode(!0);a.id="printCalendarClone",n.after(a);var r=document.createElement("h3");r.style.paddingTop="1rem",r.style.paddingBottom="1rem";var c=void 0===e?"All":e,i=t&&""!==t?t.substr(0,7):"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1);r.innerHTML="".concat(c," ").concat(i);var s=document.querySelector("#printCalendarClone").getElementsByClassName("printInformationArea")[0];s.appendChild(r);var o=new O["a"]({orientation:"portrait",format:[470,500]}),l=document.querySelector("#printCalendarClone"),u=l.style.width,d=l.style.height;N()(l).then((function(e){var t=e.toDataURL("image/png");o.addImage(t,"JPEG",20,20,u,d),o.save("".concat(c,"-").concat(i,".pdf"))})).catch((function(e){this.updateSnackMessage("Error at html2canvas : ".concat(e," "))}))}}},j=R,I=(n("79c9"),n("8336")),A=n("132d"),V=n("8860"),M=n("da13"),P=n("5d23"),L=n("e449"),Y=n("8dd9"),U=n("71d9"),B=n("2a7f"),F=Object(h["a"])(j,k,C,!1,null,null,null),$=F.exports;E()(F,{VBtn:I["a"],VCol:S["a"],VContainer:y["a"],VIcon:A["a"],VList:V["a"],VListItem:M["a"],VListItemTitle:P["b"],VMenu:L["a"],VRow:w["a"],VSheet:Y["a"],VToolbar:U["a"],VToolbarTitle:B["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{permanent:e.$vuetify.breakpoint.lgAndUp,absolute:e.$vuetify.breakpoint.mdAndDown,floating:"",right:""},model:{value:e.drawerSwitch,callback:function(t){e.drawerSwitch=t},expression:"drawerSwitch"}},[n("v-list",[n("v-list-item-group",[n("v-list-item",{staticClass:"mt-n2",class:""!==e.getSelectedPerson.name&&e.getSelectedPerson.name?"white":"blue",attrs:{link:""},on:{click:function(t){return e.eventsByName("","")}}},[n("v-list-item-title",{class:""!==e.getSelectedPerson.name&&e.getSelectedPerson.name?"":"white--text"},[n("span",{staticClass:"mr-2"},[e._v("All")])])],1)],1),n("v-list-group",{attrs:{value:!0,dense:""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Caregivers")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesCaregivers.length))])])]},proxy:!0}])},[n("v-container",[n("v-form",{ref:"newCaregiverForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8",sm:"8"}},[n("v-text-field",{attrs:{placeholder:"Add Caregiver",rules:e.rulesName},on:{input:function(t){e.isDuplicateName=e.checkDuplicateName(e.newCaregiver,"namesCaregivers")}},model:{value:e.newCaregiver,callback:function(t){e.newCaregiver=t},expression:"newCaregiver"}})],1),n("v-col",{attrs:{cols:"4",sm:"4"}},[n("v-btn",{staticClass:"mt-4 ml-4",attrs:{small:"",color:"blue",depressed:"",disabled:!e.valid||e.isDuplicateName||""===e.newCaregiver||void 0===e.newCaregiver},on:{click:function(t){return e.addNewPerson(e.newCaregiver,"newCaregiver")}}},[n("span",{staticClass:"white--text"},[e._v("Add")])])],1)],1)],1)],1),n("v-divider"),n("v-virtual-scroll",{attrs:{items:e.namesCaregivers,"item-height":40,height:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",{class:a===e.getSelectedPerson.name?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(a,"caregiver")}}},[n("v-list-item-title",{class:a===e.getSelectedPerson.name?"white--text":""},[e._v(e._s(a)+" ")])],1)]}}])})],1),n("v-list-group",{attrs:{value:!0},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[n("span",{staticClass:"mr-3"},[e._v("Clients")]),n("span",{staticClass:"caption grey--text"},[e._v(e._s(e.namesClients.length))])])]},proxy:!0}])},[n("v-container",[n("v-form",{ref:"newClientForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8",sm:"8"}},[n("v-text-field",{attrs:{placeholder:"Add Client",rules:e.rulesName},on:{input:function(t){e.isDuplicateName=e.checkDuplicateName(e.newClient,"namesClients")}},model:{value:e.newClient,callback:function(t){e.newClient=t},expression:"newClient"}})],1),n("v-col",{attrs:{cols:"4",sm:"4"}},[n("v-btn",{staticClass:"mt-4 ml-4",attrs:{small:"",color:"blue",depressed:"",disabled:!e.valid||e.isDuplicateName||""===e.newClient||void 0===e.n4wClient},on:{click:function(t){return e.addNewPerson(e.newClient,"newClient")}}},[n("span",{staticClass:"white--text"},[e._v("Add")])])],1)],1)],1)],1),n("v-divider"),n("v-virtual-scroll",{attrs:{items:e.namesClients,"item-height":40,height:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",{class:a===e.getSelectedPerson.name?"blue":"",attrs:{link:"",dense:""},on:{click:function(t){return e.eventsByName(a,"client")}}},[n("v-list-item-title",{class:a===e.getSelectedPerson.name?"white--text":""},[e._v(e._s(a)+" ")])],1)]}}])})],1)],1)],1)],1)},H=[],Z=(n("4de4"),n("caad"),n("d81d"),n("ac1f"),n("2532"),n("1276"),n("2909")),z=(n("bc3a"),{name:"CalendarSideBar",props:{focus:{type:String,default:""}},data:function(){return{valid:!1,loading:!1,items:[],newCaregiver:"",newClient:"",isDuplicateName:!1,rulesName:[function(e){return!e||/^[a-zA-Z&-]+\s{1}[a-zA-Z-]+$/.test(e)||"Names must be 2 words separated by space"},function(e){return!!e||"Required"}]}},watch:{},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])(["drawerStatus"])),Object(s["c"])("storeCalendar",["getSelectedPerson","getNamesCaregivers","getTempCaregiver","getNamesClients","getTempClient"])),{},{drawerSwitch:{get:function(){return this.drawerStatus},set:function(){}},namesCaregivers:{get:function(){return[].concat(Object(Z["a"])(this.getNamesCaregivers),[this.getTempCaregiver]).filter((function(e){return""!==e})).map((function(e){return e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}},namesClients:{get:function(){return[].concat(Object(Z["a"])(this.getNamesClients),[this.getTempClient]).filter((function(e){return""!==e})).map((function(e){return e})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))}}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["updateSnackMessage"])),Object(s["b"])("storeCalendar",["updateSelectedPerson"])),Object(s["d"])(["drawerChange"])),Object(s["d"])("storeCalendar",["ADD_NEW_TEMPORARY_PERSON"])),{},{eventsByName:function(e,t){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.updateSelectedPerson({name:e,type:t});case 2:n.$emit("selectedPerson"),n.drawerChange();case 4:case"end":return a.stop()}}),a)})))()},checkDuplicateName:function(e,t){return this[t].includes(e)},addNewPerson:function(e,t){var n="newCaregiver"===t?"caregiverNames":"clientNames";this.ADD_NEW_TEMPORARY_PERSON({name:e,nameType:n});var a="newCaregiver"===t?"caregiver":"client";this.eventsByName(e,a);var r="newCaregiver"===t?"newCaregiverForm":"newClientForm";this.$refs[r].reset(),this.newCaregiver="",this.newClient="",this.isDuplicateName=!1,this.updateSnackMessage("Added new temporary person : ".concat(e))},clearItems:function(){this.items=[]}})}),X=z,q=n("ce7e"),G=n("4bd4"),J=n("56b0"),K=n("1baa"),Q=n("f774"),ee=n("8654"),te=n("0de5"),ne=Object(h["a"])(X,W,H,!1,null,"76814abe",null),ae=ne.exports;E()(ne,{VBtn:I["a"],VCol:S["a"],VContainer:y["a"],VDivider:q["a"],VForm:G["a"],VList:V["a"],VListGroup:J["a"],VListItem:M["a"],VListItemGroup:K["a"],VListItemTitle:P["b"],VNavigationDrawer:Q["a"],VRow:w["a"],VTextField:ee["a"],VVirtualScroll:te["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-dialog",{attrs:{persistent:"","max-width":"1080"},model:{value:e.eventOpen,callback:function(t){e.eventOpen=t},expression:"eventOpen"}},[n("v-card",[n("v-toolbar",{staticClass:"white--text mb-6",attrs:{flat:"",color:e.localSelectedEvent.isRecurring?"primary":"green"}},[n("v-spacer"),n("v-toolbar-title",[n("span",{staticClass:"title--text ml-10"},[e._v(e._s(e.formatDateYYYYMMDD(e.localSelectedEvent.start)))]),n("span",{staticClass:"font-weight-normal uppercase white--text caption ml-2 labelW"},[e._v(" "+e._s(e.getWeekdayInitial(e.selectedWeekdayNum)))])]),n("v-spacer"),n("v-btn",{attrs:{color:e.localSelectedEvent.isRecurring?"primary darken-1":"green darken-1",small:"",depressed:""},on:{click:function(t){return e.closeDialog(!1)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-close")])],1)],1),n("calendar-event-dialog-info",{attrs:{event:e.localSelectedEvent}}),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold caption uppercase grey--text text--lighten-1"},[e._v("Names")]),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"caregiver",disabled:"caregiver"===e.getSelectedPerson.type,rules:e.rulesName},model:{value:e.localSelectedEvent.caregiver,callback:function(t){e.$set(e.localSelectedEvent,"caregiver",t)},expression:"localSelectedEvent.caregiver"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"client",disabled:"client"===e.getSelectedPerson.type,rules:e.rulesName},model:{value:e.localSelectedEvent.client,callback:function(t){e.$set(e.localSelectedEvent,"client",t)},expression:"localSelectedEvent.client"}})],1)],1)],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"font-weight-bold caption uppercase grey--text text--lighten-1"},[e._v("Shift time")]),n("calendar-event-time",{attrs:{event:e.localSelectedEvent},on:{startTimeChanged:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];e.changeDTSTARTtime.apply(void 0,t),e.changeUNTIL.apply(void 0,t.concat([e.formatUNTILtoType(e.localUNTIL,"-","yyyymmdd")]))}}})],1)],1)],1),n("v-container",{class:e.$vuetify.breakpoint.mdAndUp?"heightKeep":""},[e.localSelectedEvent.isRecurring||e.newEvent?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"1"}},[n("v-checkbox",{attrs:{label:"Recur",disabled:e.localSelectedEvent.isRecurring&&!e.newEvent},model:{value:e.localSelectedEvent.isRecurring,callback:function(t){e.$set(e.localSelectedEvent,"isRecurring",t)},expression:"localSelectedEvent.isRecurring"}})],1),e.localSelectedEvent.isRecurring?n("v-col",{attrs:{cols:"12",sm:"11",md:"7"}},[n("v-container",[n("v-row",{staticClass:"mt-n6",attrs:{"no-gutters":""}},e._l(e.weekdayNames,(function(t){return n("div",{key:t},[n("v-col",{staticClass:"mr-1",attrs:{cols:"12",sm:"1"}},[n("v-checkbox",{attrs:{multiple:"",label:t,value:t,rules:e.rulesCheckBoxMandatory},on:{change:function(t){return e.changeBYDAY(e.localBYDAY)}},model:{value:e.localBYDAY,callback:function(t){e.localBYDAY=t},expression:"localBYDAY"}})],1)],1)})),0)],1)],1):e._e(),e.localSelectedEvent.isRecurring?n("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[n("v-select",{attrs:{hint:"Interval",items:e.intervalValues,label:"Interval",value:"localINTERVAL","persistent-hint":"","single-line":""},on:{change:e.changeINTERVAL},model:{value:e.localINTERVAL,callback:function(t){e.localINTERVAL=t},expression:"localINTERVAL"}})],1):e._e(),e.localSelectedEvent.isRecurring?n("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[n("calendar-until-date-picker",{attrs:{until:e.formatUNTILtoType(e.localUNTIL,"/","mmddyyyy"),minimumEventDate:e.formatDateYYYYMMDD(e.localSelectedEvent.start)},on:{untilPicked:function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];return e.changeUNTIL.apply(void 0,[e.localSelectedEvent.start].concat(t))}}})],1):e._e()],1):e._e()],1),n("v-card-actions",[e.localSelectedEvent.isRecurring?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:"",color:"orange",disabled:e.newEvent}},"v-btn",r,!1),a),[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)]}}],null,!1,141575925)},[n("v-list",e._l(e.deleteOptions,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.removeEvent(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:e.newEvent,text:"",color:"orange"},on:{click:function(t){return e.removeEvent(e.localSelectedEvent)}}},[e._v(" Delete "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-trash-can-outline ")])],1)],1),n("v-spacer"),e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"primary darken-1 white--text"},on:{click:function(t){return e.saveNewEvent(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):!e.localSelectedEvent.isRecurring&&e.newEvent?n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.saveNewEvent(e.localSelectedEvent)}}},[e._v(" Create "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1):e.localSelectedEvent.isRecurring&&!e.newEvent?n("div",[n("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{depressed:"",color:e.localSelectedEvent.isRecurring?"primary darken-1 white--text":"green darken-1 white--text",disabled:!e.valid},on:{click:function(t){return e.validate()}}},"v-btn",r,!1),a),[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-content-save ")])],1)]}}])},[n("v-list",e._l(e.saveOptions,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.patchEvent(e.localSelectedEvent,t.action)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1):n("div",[n("v-btn",{attrs:{disabled:!e.valid&&e.newEvent,depressed:"",color:"green darken-1 white--text"},on:{click:function(t){return e.patchEvent(e.localSelectedEvent)}}},[e._v(" Save "),n("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save")])],1)],1)],1)],1)],1)],1)},ce=[],ie=(n("c975"),n("a15b"),n("a9e3"),n("b64b"),n("d3b7"),n("25f0"),n("5319"),n("3835")),se=n("d4ec"),oe=n("55b4"),le=n("b166"),ue=n("ec26"),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.compuStart,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.compuStart=t},"update:return-value":function(t){e.compuStart=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start Time",readonly:""},model:{value:e.compuStart,callback:function(t){e.compuStart=t},expression:"compuStart"}},"v-text-field",r,!1),a))]}}]),model:{value:e.menu_start,callback:function(t){e.menu_start=t},expression:"menu_start"}},[e.menu_start?n("v-time-picker",{attrs:{format:"24hr","allowed-minutes":e.allowedStep,"full-width":""},on:{"click:minute":function(t){return e.$refs.menu.save(e.compuStart)}},model:{value:e.compuStart,callback:function(t){e.compuStart=t},expression:"compuStart"}}):e._e()],1)],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-text-field",{attrs:{label:"Duration",rules:e.rulesDuration},on:{blur:function(t){e.duration=e.compuDur}},model:{value:e.compuDur,callback:function(t){e.compuDur=t},expression:"compuDur"}})],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-text-field",{attrs:{label:"End time",disabled:""},model:{value:e.compuEnd,callback:function(t){e.compuEnd=t},expression:"compuEnd"}})],1)],1)},ve=[],pe=n("2186"),fe={name:"CalendarEventTime",props:{event:{type:Object,default:function(){return{}}}},data:function(){return{start_time:"",menu_start:!1,rulesDuration:[function(e){return!!e||"Required"},function(e){return!e||e<=24||"Maximum 24"},function(e){return!e||/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/.test(e)||"Ranges 0.25 to 24 in 0.25 increments"}]}},computed:{compuStart:{get:function(e){return this.timeOnly(this.event.start)},set:function(e){var t=this.compuDur;this.event.start=this.formatFull(e,"start"),this.compuDur=t,this.$emit("startTimeChanged",e)}},compuDur:{get:function(){var e=Math.abs(Object(p["a"])(Object(f["a"])(this.event.start),Object(f["a"])(this.event.end))),t=e/60;return t},set:function(e){var t=this.compuDur,n=/^\s*(?=.*[1-9])\d+(\.(?:0|00|25|5|50|75))?$/,a=n.test(e);if(a){this.event.duration=e;var r=60*e;this.compuEnd=r}else this.event.duration=t}},compuEnd:{get:function(e){return this.timeOnly(this.event.end)},set:function(e){if(!isNaN(e)){this.displayDate(this.event.start);this.event.end=Object(le["a"])(Object(pe["a"])(Object(f["a"])(this.event.start),e),"yyyy-MM-dd HH:mm")}}}},watch:{start_time:function(e){this.event.start=this.formatFull(this.start_time,"start")}},methods:{timeOnly:function(e){return e?e.slice(11):"00:00"},displayDate:function(e){return e?e.substring(0,10):""},formatFull:function(e,t){if(!e||!t)return null;var n="start"===t?this.event.start.substring(0,10):this.event.end.substring(0,10);return"".concat(n," ").concat(e)},allowedStep:function(e){return e%15===0}}},me=fe,ge=n("c964"),he=Object(h["a"])(me,de,ve,!1,null,"d38a790a",null),be=he.exports;E()(he,{VCol:S["a"],VMenu:L["a"],VRow:w["a"],VTextField:ee["a"],VTimePicker:ge["a"]});var Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"untilMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{slot:"activator",label:"Until",hint:"MM/DD/YYYY","persistent-hint":""},on:{blur:function(t){e.localDate=e.compDate}},slot:"activator",model:{value:e.compDate,callback:function(t){e.compDate=t},expression:"compDate"}},"v-text-field",r,!1),a))]}}]),model:{value:e.untilMenu,callback:function(t){e.untilMenu=t},expression:"untilMenu"}},[n("v-date-picker",{attrs:{"no-title":"",min:e.minimumEventDate,max:e.maxDate},on:{input:function(t){e.untilMenu=!1}},model:{value:e.compDate,callback:function(t){e.compDate=t},expression:"compDate"}})],1)],1)},Se=[],ye=(n("4d90"),{name:"CalendarUntilDatePicker",props:{until:{type:String,default:""},minimumEventDate:{type:String,default:""}},data:function(){return{dateLocal:"",untilMenu:!1,maxDate:"2025-01-01"}},computed:{compDate:{get:function(){return this.dateLocal||this.toISOFormat(this.until)},set:function(e){this.dateLocal=e,this.$emit("untilPicked",this.dateLocal)}},localDate:{get:function(){return this.dateLocal},set:function(e){this.dateLocal=e}}},methods:{toISOFormat:function(e){if(!e)return null;var t=e.split("/"),n=Object(ie["a"])(t,3),a=n[0],r=n[1],c=n[2];return"".concat(c,"-").concat(a.padStart(2,"0"),"-").concat(r.padStart(2,"0"))}}}),we=ye,Te=n("2e4b"),_e=Object(h["a"])(we,Ee,Se,!1,null,"a3e2ec02",null),ke=_e.exports;E()(_e,{VDatePicker:Te["a"],VMenu:L["a"],VTextField:ee["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"2"}},[e.event.isRecurring?n("div",[n("v-icon",{attrs:{color:"blue"}},[e._v("mdi-calendar-refresh-outline ")]),n("span",{staticClass:"mr-6 ml-2 blue--text"},[e._v("Recurring Event")])],1):n("div",[n("v-icon",{attrs:{color:"green darken-1"}},[e._v("mdi-calendar ")]),n("span",{staticClass:"mr-8 ml-2 green--text"},[e._v("One time event")])],1)]),n("v-col",{attrs:{cols:"12",sm:"8"}},[n("span",{staticClass:"mr-2"},[e._v(e._s(e.event.caregiver))]),n("v-icon",{staticClass:"mb-1 mr-2",attrs:{small:""}},[e._v(" mdi-arrow-right ")]),n("span",{staticClass:"mr-4"},[e._v(e._s(e.event.client))]),n("span",{staticClass:"mr-1"},[e._v(" "+e._s(e.showStartTime(e.event.start))+" - "+e._s(e.showEndTime(e.event.end))+" ")])],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("span",{staticClass:"mr-1 grey--text text--darken-2 body-2"},[e.event.isRecurring?n("div",[e._v(" Starts "+e._s(e.dateStartSentence(e.event.rruleString))+" "+e._s(e.rruleDescription(e.event.rruleString))+" ")]):n("div",[e.event.hasOwnProperty("actionType")?n("div",[e._v(" Diverged ")]):n("div",[e._v("Single")])])])])],1)],1)},De=[],Oe={name:"CalendarEventDialogInfo",props:{event:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{showStartTime:function(e){if(e)return e.slice(-5)||""},showEndTime:function(e){if(e)return e.slice(-5)||""},rruleDescription:function(e){if(e)return oe["a"].fromString(e).toText()},dateStartSentence:function(e){if(e)return Object(le["a"])(oe["a"].fromString(e).origOptions.dtstart,"MMM d, yyyy")}}},xe=Oe,Ne=Object(h["a"])(xe,Ce,De,!1,null,"5fc0f5e1",null),Re=Ne.exports;E()(Ne,{VCol:S["a"],VContainer:y["a"],VIcon:A["a"],VRow:w["a"]});var je={components:{CalendarEventTime:be,CalendarUntilDatePicker:ke,CalendarEventDialogInfo:Re},props:{selectedEvent:{type:Object,default:function(){return{}}},newDay:{type:Object,default:function(){return{}}},selectedWeekdayNum:{type:Number,default:0},originalData:{type:Object,default:function(){return{}}}},data:function(){return{valid:!1,localSelectedEvent:{},newEvent:!1,weekdayNames:["SU","MO","TU","WE","TH","FR","SA"],intervalValues:["1","2","3","4"],localINTERVAL:"",localUNTIL:"",localBYDAY:[],deleteOptions:[{title:"Delete this instance",action:"deleteInstance"},{title:"Delete forward",action:"deleteForward"},{title:"Delete All",action:"deleteAll"}],saveOptions:[{title:"Update this only",action:"updateInstance"},{title:"Update forward",action:"updateForward"},{title:"Update All",action:"updateAll"}],rulesName:[function(e){return!e||/^[a-zA-Z&-]+\s{1}[a-zA-Z-]+$/.test(e)||"Names must be 2 words separated by space"},function(e){return!!e||"Required"}],rulesCheckBoxMandatory:[function(e){return!e||e.length>0||""}]}},computed:Object(i["a"])({},Object(s["c"])("storeCalendar",["eventOpen","getEventIndex","getSelectedPerson","newEventSignal"])),watch:{newDay:function(e,t){this.objectHasProperties(e)&&this.createEvent(e)},selectedEvent:function(e,t){this.objectHasProperties(e)&&(this.newEvent=!1,this.localSelectedEvent=e),this.localBYDAY=this.getBYDAY(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILstring(this.localSelectedEvent.rruleString),this.localINTERVAL=this.getINTERVALnumber(this.localSelectedEvent.rruleString)},localSelectedEvent:{deep:!0,handler:function(e,t){this.newEvent&&this.localSelectedEvent.isRecurring&&(this.localSelectedEvent.rruleString=this.createRRULEString(this.localSelectedEvent),this.localINTERVAL=this.getINTERVALnumber(this.localSelectedEvent.rruleString),this.localUNTIL=this.getUNTILstring(this.localSelectedEvent.rruleString)),this.newEvent&&!this.localSelectedEvent.isRecurring&&(this.localSelectedEvent.rruleString="")}},newEventSignal:function(){this.$emit("refresh"),this.SET_NEW_EVENT_SIGNAL(!1)}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["updateSnackMessage"])),Object(s["b"])("storeCalendar",["dialogOpen","actionCreateNewEvent","updateEvent","deleteEvent"])),Object(s["d"])("storeCalendar",["SET_NEW_EVENT_SIGNAL"])),{},{objectHasProperties:function(e){return Object.keys(e).length>0},validate:function(){this.$refs.form.validate()},formatDateYYYYMMDD:function(e){return e?Object(le["a"])(Object(f["a"])(e),"yyyy-MM-dd"):""},createEvent:function(e){var t=e.date;e.time,e.hour,e.year,e.weekday;this.valid=!1,this.newEvent=!0;var n=function e(t,n,a,r,c,i,s,o){Object(se["a"])(this,e),this.cal_id=t,this.caregiver=n,this.client=a,this.start=r,this.end=c,this.duration=i,this.isRecurring=!1,this.rruleString=""};this.localSelectedEvent=new n(Object(ue["a"])(),"caregiver"===this.getSelectedPerson.type&&this.getSelectedPerson.name?this.getSelectedPerson.name:"","client"===this.getSelectedPerson.type&&this.getSelectedPerson.name?this.getSelectedPerson.name:"","".concat(t," 12:00"),"".concat(t," 16:00"),"4",!1,""),this.dialogOpen(!0)},patchEvent:function(e,t){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.isRecurring){a.next=12;break}a.t0=t,a.next="updateInstance"===a.t0?4:"updateForward"===a.t0?6:"updateAll"===a.t0?9:11;break;case 4:return e.actionType=n.createActionType("updateInstance",n.originalData),a.abrupt("break",12);case 6:return e.actionType=n.createActionType("updateForward",""),n.changeDTSTARTdate(e.start),a.abrupt("break",12);case 9:return e.actionType=n.createActionType("updateAll",""),a.abrupt("break",12);case 11:n.updateSnackMessage("No actionType in patchEvent");case 12:return a.prev=12,a.next=15,n.updateEvent(e);case 15:n.updateSnackMessage("Event updated"),a.next=21;break;case 18:a.prev=18,a.t1=a["catch"](12),n.updateSnackMessage("Error ".concat(a.t1));case 21:return a.prev=21,n.closeDialog(),a.finish(21);case 24:case"end":return a.stop()}}),a,null,[[12,18,21,24]])})))()},saveNewEvent:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.actionCreateNewEvent(e);case 3:t.updateSnackMessage("New event created"),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.updateSnackMessage("Error ".concat(n.t0));case 9:return n.prev=9,t.newEvent=!1,t.closeDialog(),n.finish(9);case 13:case"end":return n.stop()}}),n,null,[[0,6,9,13]])})))()},removeEvent:function(e,t){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.isRecurring){a.next=11;break}a.t0=t,a.next="deleteInstance"===a.t0?4:"deleteForward"===a.t0?6:"deleteAll"===a.t0?8:10;break;case 4:return e.actionType=n.createActionType("deleteInstance",n.originalData),a.abrupt("break",11);case 6:return e.actionType=n.createActionType("deleteForward",""),a.abrupt("break",11);case 8:return e.actionType=n.createActionType("deleteAll",""),a.abrupt("break",11);case 10:n.updateSnackMessage("No actionType in removeEvent");case 11:return a.prev=11,a.next=14,n.deleteEvent(e);case 14:n.updateSnackMessage("Event deleted"),a.next=20;break;case 17:a.prev=17,a.t1=a["catch"](11),n.updateSnackMessage("Error ".concat(a.t1));case 20:return a.prev=20,n.closeDialog(),a.finish(20);case 23:case"end":return a.stop()}}),a,null,[[11,17,20,23]])})))()},closeDialog:function(){this.dialogOpen(!1)},createRRULEString:function(e){if(!e.isRecurring)return"";var t=new Date(e.start).getFullYear(),n=new Date(e.start).getUTCMonth(),a=e.start.substr(8,2),r=e.start.substr(11,2),c=e.start.substr(14,2),i=new oe["a"]({freq:oe["a"].WEEKLY,byweekday:this.localBYDAY.map((function(e){return oe["a"][e]}))||this.getWeekdayInitial(new Date(t,n,a).getDay()),interval:this.localINTERVAL||"1",dtstart:new Date(Date.UTC(t,n,a,r,c)),until:this.formatUNTILtoDate(this.localUNTIL)||new Date(2025,0,1)});return i.toString()},getWeekdayInitial:function(e){return this.weekdayNames[e]},changeDTSTARTtime:function(e){if(this.localSelectedEvent.isRecurring){var t=e.replace(":","")+"00",n=this.localSelectedEvent.rruleString.substring(17,this.localSelectedEvent.rruleString.indexOf("Z"));this.localSelectedEvent.rruleString=this.replacer(this.localSelectedEvent.rruleString,n,t,0)}},changeDTSTARTdate:function(e){if(this.localSelectedEvent.isRecurring){var t=e.slice(0,10).replaceAll("-",""),n=this.localSelectedEvent.rruleString.slice(8,16);this.localSelectedEvent.rruleString=this.replacer(this.localSelectedEvent.rruleString,n,t,0)}},getINTERVALnumber:function(e){if(e){var t=e.indexOf("INTERVAL")+9,n=e.indexOf(";",t);return e.substring(t,n)}},changeINTERVAL:function(e){var t=this.localSelectedEvent.rruleString.substring(this.localSelectedEvent.rruleString.indexOf("INTERVAL"),this.localSelectedEvent.rruleString.indexOf(";",this.localSelectedEvent.rruleString.indexOf("INTERVAL"))),n="INTERVAL=".concat(e);this.localINTERVAL=e,this.localSelectedEvent.rruleString=this.replacer(this.localSelectedEvent.rruleString,t,n,0)},getBYDAY:function(e){if(!e)return[this.getWeekdayInitial(this.selectedWeekdayNum)];var t=e.indexOf("BYDAY"),n=t+6,a=e.indexOf(";",n),r=e.substring(n,a);return r.split(",")},changeBYDAY:function(e){if(0!==e.length){var t=this.localSelectedEvent.rruleString.substring(this.localSelectedEvent.rruleString.indexOf("BYDAY"),this.localSelectedEvent.rruleString.indexOf(";",this.localSelectedEvent.rruleString.indexOf("BYDAY"))),n="BYDAY=".concat(e.join(","));this.localBYDAY=e,this.localSelectedEvent.rruleString=this.replacer(this.localSelectedEvent.rruleString,t,n,0)}},getUNTILstring:function(e){return e?e.slice(-16):""},formatUNTILtoDate:function(e){if(!e)return"";var t=e.slice(0,4),n=e.substr(4,2),a=e.substr(6,2);return new Date(t,n-1,a)},formatUNTILtoType:function(e,t,n){if(e){var a=e.slice(0,4),r=e.substr(4,2),c=e.substr(6,2);return"mmddyyyy"===n?"".concat(r).concat(t).concat(c).concat(t).concat(a):"".concat(a).concat(t).concat(r).concat(t).concat(c)}},changeUNTIL:function(e,t){if(t){var n=t.split("-"),a=Object(ie["a"])(n,3),r=a[0],c=a[1],i=a[2];c-=1;var s="T"+e.slice(-5).replace(":","").concat("00Z"),o=Object(le["a"])(new Date(r,c,i),"yyyyMMdd").concat(s);this.localUNTIL=o,this.localSelectedEvent.rruleString=this.replacer(this.localSelectedEvent.rruleString,this.localSelectedEvent.rruleString.slice(-16),o,0)}},replacer:function(e,t,n,a){var r=e.split(t,a+1).join(t);return r.length<e.length?r+n+e.slice(r.length+t.length):e},createActionType:function(e,t){var n={description:e,originalData:t};return n}})},Ie=je,Ae=(n("7f16"),n("b0af")),Ve=n("99d9"),Me=n("ac7c"),Pe=n("169a"),Le=n("b974"),Ye=n("2fa4"),Ue=Object(h["a"])(Ie,re,ce,!1,null,"70302bea",null),Be=Ue.exports;E()(Ue,{VBtn:I["a"],VCard:Ae["a"],VCardActions:Ve["a"],VCheckbox:Me["a"],VCol:S["a"],VContainer:y["a"],VDialog:Pe["a"],VForm:G["a"],VIcon:A["a"],VList:V["a"],VListItem:M["a"],VListItemTitle:P["b"],VMenu:L["a"],VRow:w["a"],VSelect:Le["a"],VSpacer:Ye["a"],VTextField:ee["a"],VToolbar:U["a"],VToolbarTitle:B["a"]});var Fe={name:"Calendar",components:{CalendarDay:_,CalendarToolBar:$,CalendarSideBar:ae,CalendarEventDialog:Be},data:function(){return{menu:!1,focus:"",type:"month",selectedEvent:{},originalData:{},selectedWeekdayNum:0,newDay:{},events:[],isBusy:!1}},computed:Object(i["a"])({},Object(s["c"])("storeCalendar",["eventOpen","getCurrentEvent","getInstances","getExceptions","getSelectedPerson"])),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["updateSnackMessage"])),Object(s["b"])("storeCalendar",["initInstances","dialogOpen"])),{},{viewToday:function(){this.focus=""},createEvent:function(e){this.selectedWeekdayNum=e.weekday,this.selectedEvent={},this.originalData={},this.newDay=e,this.dialogOpen(!0)},showEvent:function(e){var t=e.nativeEvent,n=e.event,a=e.eventParsed;this.selectedWeekdayNum=a.start.weekday,this.selectedEvent=this.getCurrentEvent(n),this.originalData=Object(i["a"])({},this.selectedEvent),this.newDay={},t.stopPropagation(),this.dialogOpen(!0)},refreshEvents:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isBusy=!0,t.prev=1,t.next=4,e.initInstances({focus:e.focus,name:e.getSelectedPerson.name,type:e.getSelectedPerson.type});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.updateSnackMessage("Error loading ".concat(t.t0," "));case 9:return t.prev=9,e.isBusy=!1,e.events=e.getInstances(e.focus,e.getSelectedPerson.name,e.getSelectedPerson.type),e.newDay={},e.selectedEvent={},t.finish(9);case 15:case"end":return t.stop()}}),t,null,[[1,6,9,15]])})))()},changeType:function(e){this.type=e}})},$e=Fe,We=(n("3b51"),n("a4f6")),He=n("a797"),Ze=n("490a"),ze=Object(h["a"])($e,o,l,!1,null,"5030759f",null),Xe=ze.exports;E()(ze,{VCalendar:We["a"],VCol:S["a"],VContainer:y["a"],VOverlay:He["a"],VProgressCircular:Ze["a"],VRow:w["a"]});var qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.show=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"text-center"},[e._v(e._s(e.message))])])],1)},Ge=[],Je={name:"Snackbar",data:function(){return{show:!1,message:"",timeout:2e3}},created:function(){var e=this;this.$store.watch((function(e){return e.snackMessage}),(function(){e.$store.state.snackMessage&&(e.show=!0,e.message=e.$store.state.snackMessage,e.$store.state.snackMessage="")}))}},Ke=Je,Qe=n("2db4"),et=Object(h["a"])(Ke,qe,Ge,!1,null,null,null),tt=et.exports;E()(et,{VBtn:I["a"],VSnackbar:Qe["a"]});var nt={name:"App",components:{Calendar:Xe,Snackbar:tt},data:function(){return{}},methods:Object(i["a"])(Object(i["a"])({},Object(s["d"])(["drawerChange"])),{},{changeDrawer:function(){this.drawerChange()}})},at=nt,rt=(n("5c0b"),n("7496")),ct=n("40dc"),it=n("adda"),st=n("f6c4"),ot=Object(h["a"])(at,r,c,!1,null,null,null),lt=ot.exports;E()(ot,{VApp:rt["a"],VAppBar:ct["a"],VBtn:I["a"],VImg:it["a"],VMain:st["a"],VSpacer:Ye["a"]});var ut=n("f309");a["a"].use(ut["a"]);var dt=new ut["a"]({}),vt=(n("a4d3"),n("e01a"),n("7db0"),n("c740"),n("a434"),n("6062"),n("3ca3"),n("ddb0"),n("45fc"),n("841c"),n("b85c")),pt=n("f7f1"),ft=n("8cac"),mt=n("1315");function gt(e){return("0"+e).slice(-2)}function ht(e){return e&&""!==e?e.substr(0,7):"".concat((new Date).getFullYear(),"-").concat(gt((new Date).getMonth()+1))}function bt(e,t,n){return Object(Z["a"])(new Set(e.filter((function(e){return e.start.includes(ht(t))})).map((function(e){return e[n]})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))))}function Et(e,t){var n=Object(i["a"])({},e),a=e.rruleString.substr(e.rruleString.search("UNTIL=")+6,8),r=t.substr(0,10).split("-"),c=Object(ie["a"])(r,3),s=c[0],o=c[1],l=c[2],u=Object(le["a"])(Object(pt["a"])(new Date(s,o-1,l),-1),"yyyyMMdd");return n.rruleString=n.rruleString.replace(a,u),n}function St(e,t,n,a,r){var c=[];e.map((function(e){c=[].concat(Object(Z["a"])(c),Object(Z["a"])(yt(e,e.rruleString,ht(n))))}));var i=c.length-1;while(i>=0){var s=t.some((function(e){return e.cal_id===c[i].cal_id&&e.actionType.originalData.start===c[i].start}));s&&c.splice(i,1),i-=1}var o=t.filter((function(e){if(!e.actionType||"deleteInstance"!==e.actionType.description)return e}));return c=[].concat(Object(Z["a"])(c),Object(Z["a"])(o)),c}function yt(e,t,n){var a=[],r=Object(f["a"])(n).getFullYear(),c=new Date(n).getUTCMonth(),s=(e.start.substr(8,2),new Date(r,c,1)),o=new Date(s.valueOf()-60*s.getTimezoneOffset()*1e3),l=Object(ft["a"])(new Date(r,c)),u=new Date(l.valueOf()-60*l.getTimezoneOffset()*1e3),d=e.start.slice(0,10),v=e.end.slice(0,10),m=e.end.slice(11),g="",h=d!==v;h&&(g=Math.abs(Object(p["a"])(Object(f["a"])(e.start),Object(f["a"])(e.end))));var b,E=Object(oe["c"])(t).between(o,u).map((function(e){return Object(le["a"])(mt["DateTime"].fromJSDate(e).toUTC().setZone("local",{keepLocalTime:!0}).toJSDate(),"yyyy-MM-dd HH:mm")})),S=Object(vt["a"])(E);try{for(S.s();!(b=S.n()).done;){var y=b.value,w=y.slice(0,10),T=h?Object(le["a"])(Object(pe["a"])(Object(f["a"])(y),g),"yyyy-MM-dd HH:mm"):w+" "+m,_=Object(i["a"])({},e);_.start=y,_.end=T,a.push(_)}}catch(k){S.e(k)}finally{S.f()}return a}var wt={namespaced:!0,state:{eventOpen:!1,newEventSignal:!1,caregiverNames:[],clientNames:[],selectedPerson:{},instances:[],tempCaregiver:"",tempClient:"",events:[{cal_id:"".concat(Object(ue["a"])()),caregiver:"Sigourney Reaver",client:"Michelle Milano",start:"".concat((new Date).getFullYear(),"-01-02 07:00"),end:"".concat((new Date).getFullYear(),"-01-02 11:00"),duration:"4",isRecurring:!0,rruleString:"DTSTART:20200102T070000Z\nRRULE:FREQ=WEEKLY;BYDAY=TU,TH;INTERVAL=1;UNTIL=20250101T080000Z"},{cal_id:"".concat(Object(ue["a"])()),caregiver:"Harry Berry",client:"Randy Johnson",start:"".concat((new Date).getFullYear(),"-01-01 12:00"),end:"".concat((new Date).getFullYear(),"-01-01 20:00"),duration:"8",isRecurring:!0,rruleString:"DTSTART:20200101T120000Z\nRRULE:FREQ=WEEKLY;BYDAY=MO,WE,FR;INTERVAL=2;UNTIL=20250101T080000Z"},{cal_id:"".concat(Object(ue["a"])()),caregiver:"Walter Boyd",client:"Sandy Webb",start:"".concat((new Date).getFullYear(),"-01-04 03:00"),end:"".concat((new Date).getFullYear(),"-01-04 09:30"),duration:"6.5",isRecurring:!0,rruleString:"DTSTART:20200104T030000Z\nRRULE:FREQ=WEEKLY;BYDAY=SA;INTERVAL=1;UNTIL=20250101T080000Z"},{cal_id:"".concat(Object(ue["a"])()),caregiver:"Courtney Rocks",client:"Ben Carter",start:"".concat((new Date).getFullYear(),"-01-05 20:00"),end:"".concat((new Date).getFullYear(),"-01-06 08:00"),duration:"12",isRecurring:!0,rruleString:"DTSTART:20200105T200000Z\nRRULE:FREQ=WEEKLY;BYDAY=SU;INTERVAL=1;UNTIL=20250101T080000Z"}],exceptions:[{cal_id:"".concat(Object(ue["a"])()),caregiver:"Randy Hart",client:"Brad Pizza",start:"".concat((new Date).getFullYear(),"-").concat(gt((new Date).getMonth()+1),"-10 18:00"),end:"".concat((new Date).getFullYear(),"-").concat(gt((new Date).getMonth()+1),"-10 22:00"),duration:"4",isRecurring:!1,rruleString:""}]},actions:{initInstances:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,c,i,s,o,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,r=e.state,c=e.dispatch;try{i=St(Object(Z["a"])(r.events),Object(Z["a"])(r.exceptions),ht(t.focus),"",""),s=bt(i,t.focus,"caregiver"),o=bt(i,t.focus,"client"),a("SET_NAMES",[s,o]),l=t.name,u=t.type,(l||u)&&(i=i.filter((function(e){return e[u]===l}))),a("SET_INIT_INSTANCES",i)}catch(d){c("updateSnackMessage","Error at ".concat(d),{root:!0})}case 2:case"end":return n.stop()}}),n)})))()},actionCreateNewEvent:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,e.state,r=e.dispatch;try{t.isRecurring?(a("ADD_EVENT",t),a("CLEAR_TEMP_PERSON")):(a("ADD_EXCEPTION",t),a("CLEAR_TEMP_PERSON"))}catch(c){r("updateSnackMessage","Error with ".concat(c),{root:!0})}case 2:case"end":return n.stop()}}),n)})))()},updateEvent:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,c,s,o,l,u,d,v,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=e.state,c=e.getters,s=e.dispatch,t.isRecurring){n.next=5;break}if(t.actionType)try{l=c.getIndexExceptionDiverged(t),a("UPDATE_EXCEPTION",{divergedIndex:l,payload:t})}catch(m){s("updateSnackMessage","Error with ".concat(m),{root:!0})}else try{o=c.getIndexException(t),a("UPDATE_EXCEPTION",{exceptionIndex:o,payload:t})}catch(m){s("updateSnackMessage","Error with ".concat(m),{root:!0})}n.next=15;break;case 5:n.t0=t.actionType.description,n.next="updateAll"===n.t0?8:"updateInstance"===n.t0?10:"updateForward"===n.t0?12:14;break;case 8:try{u=c.getIndexEvent(t),d=Object(i["a"])({},t),a("UPDATE_EVENT",{index:u,updatedEvent:d})}catch(m){s("updateSnackMessage","Error with ".concat(m),{root:!0})}return n.abrupt("break",15);case 10:try{t.actionType.description="updateInstance",t.isRecurring=!1,t.rruleString="",a("ADD_EXCEPTION",t)}catch(m){s("updateSnackMessage","Error with ".concat(m),{root:!0})}return n.abrupt("break",15);case 12:try{v=Object(i["a"])({},t),v.cal_id=Object(ue["a"])(),a("ADD_EVENT",v),p=c.getIndexEvent(t),f=Et(Object(i["a"])({},r.events[p]),t.start),a("UPDATE_EVENT",{index:p,updatedEvent:f})}catch(m){s("updateSnackMessage","Error with ".concat(m),{root:!0})}return n.abrupt("break",15);case 14:s("updateSnackMessage","Unknown actionType in updateEvent",{root:!0});case 15:case"end":return n.stop()}}),n)})))()},deleteEvent:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,c,s,o,l,u,d,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=e.state,c=e.getters,s=e.dispatch,t.isRecurring){n.next=5;break}if(t.actionType)try{l=c.getIndexExceptionDiverged(t),t.actionType.description="deleteInstance",a("UPDATE_EXCEPTION",{index:l,payload:t})}catch(p){s("updateSnackMessage","Error with ".concat(p),{root:!0})}else try{o=c.getIndexException(t),a("DELETE_EXCEPTION",o)}catch(p){s("updateSnackMessage","Error with ".concat(p),{root:!0})}n.next=15;break;case 5:n.t0=t.actionType.description,n.next="deleteAll"===n.t0?8:"deleteForward"===n.t0?10:"deleteInstance"===n.t0?12:14;break;case 8:try{u=r.events.filter((function(e){return e.cal_id===t.cal_id})),u&&a("DELETE_EVENTS_MULTIPLE",u)}catch(p){s("updateSnackMessage","Error with ".concat(p),{root:!0})}return n.abrupt("break",15);case 10:try{d=c.getIndexEvent(t),v=Et(Object(i["a"])({},r.events[d]),t.start),a("UPDATE_EVENT",{index:d,updatedEvent:v})}catch(p){s("updateSnackMessage","Error with ".concat(p),{root:!0})}return n.abrupt("break",15);case 12:try{t.actionType.description="deleteInstance",a("ADD_EXCEPTION",t)}catch(p){s("updateSnackMessage","Error with ".concat(p),{root:!0})}return n.abrupt("break",15);case 14:s("updateSnackMessage","Unknown actionType in deleteEvent",{root:!0});case 15:case"end":return n.stop()}}),n)})))()},updateSelectedPerson:function(e,t){var n=e.commit;e.state;n("SET_PERSON",t)},dialogOpen:function(e,t){var n=e.commit;e.state;n("SET_DIALOG",t)}},mutations:{SET_INIT_INSTANCES:function(e,t){e.instances=t},SET_INIT_EVENTS:function(e,t){e.events=t},SET_INIT_EXCEPTIONS:function(e,t){e.exceptions=t},SET_PERSON:function(e,t){e.selectedPerson=t},ADD_NEW_TEMPORARY_PERSON:function(e,t){var n=t.name,a=t.nameType,r="caregiverNames"===a?"tempCaregiver":"tempClient";e[r]=n},CLEAR_TEMP_PERSON:function(e){e.tempCaregiver="",e.tempClient=""},SET_NEW_EVENT_SIGNAL:function(e,t){e.newEventSignal=t},SET_NAMES:function(e,t){var n=Object(ie["a"])(t,2),a=n[0],r=n[1];e.caregiverNames=a,e.clientNames=r},SET_DIALOG:function(e,t){e.eventOpen=t},ADD_EVENT:function(e,t){e.events.push(t),e.newEventSignal=!0},UPDATE_EVENT:function(e,t){var n=t.index,a=t.updatedEvent;e.events.splice(n,1,a),e.newEventSignal=!0},DELETE_EVENTS_MULTIPLE:function(e,t){e.events=e.events.filter((function(e){return!t.includes(e)})),e.newEventSignal=!0},ADD_EXCEPTION:function(e,t){e.exceptions.push(t),e.newEventSignal=!0},UPDATE_EXCEPTION:function(e,t){var n=t.index,a=t.payload;e.exceptions.splice(n,1,a),e.newEventSignal=!0},DELETE_EXCEPTION:function(e,t){e.exceptions.splice(t,1),e.newEventSignal=!0}},getters:{getInstances:function(e){return function(t,n,a){return e.instances}},getExceptions:function(e){return function(t,n,a){return e.exceptions}},eventOpen:function(e){return e.eventOpen},getNamesCaregivers:function(e){return e.caregiverNames},getNamesClients:function(e){return e.clientNames},newEventSignal:function(e){return e.newEventSignal},getSelectedPerson:function(e){return e.selectedPerson},getCurrentEvent:function(e){return function(t){return e.instances.find((function(e){return e.cal_id===t.cal_id&&e.start===t.start}))}},getIndexEvent:function(e){return function(t){return e.events.findIndex((function(e){return e.cal_id===t.cal_id}))}},getIndexException:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.cal_id===t.cal_id}))}},getIndexExceptionDiverged:function(e){return function(t){return e.exceptions.findIndex((function(e){return e.cal_id===t.cal_id&&e.actionType.originalData.start===t.start}))}},getNames:function(e,t){return function(e,n){return Object(Z["a"])(new Set(t.getInstances(e,"","").filter((function(t){return t.start.includes(ht(e))})).map((function(e){return e[n]})).sort((function(e,t){return e.split(" ")[1].localeCompare(t.split(" ")[1])}))))}},getTempCaregiver:function(e,t){return e.tempCaregiver},getTempClient:function(e,t){return e.tempClient}}},Tt=wt;a["a"].use(s["a"]);var _t=new s["a"].Store({state:{snackOpen:!1,snackMessage:"",drawer:null},modules:{storeCalendar:Tt},actions:{updateSnackMessage:function(e,t){var n=e.commit;e.state;n("setSnackMessage",t)}},mutations:{setSnackMessage:function(e,t){e.snackMessage=t},drawerChange:function(e){e.drawer=!e.drawer}},getters:{snackOpen:function(e){return e.snackOpen},drawerStatus:function(e){return e.drawer}}});a["a"].config.productionTip=!1,new a["a"]({vuetify:dt,store:_t,render:function(e){return e(lt)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"79c9":function(e,t,n){"use strict";var a=n("3b12"),r=n.n(a);r.a},"7f16":function(e,t,n){"use strict";var a=n("b3f0"),r=n.n(a);r.a},"9c0c":function(e,t,n){},b3f0:function(e,t,n){},b46e:function(e,t,n){},c8bb:function(e,t,n){"use strict";var a=n("dd5a"),r=n.n(a);r.a},dd5a:function(e,t,n){}});
//# sourceMappingURL=app.52a2f60c.js.map